// Generated by CoffeeScript 1.6.2
var Parser, UserAgentMatcher;

UserAgentMatcher = require('./UserAgentMatcher');

Parser = (function() {
  function Parser(req) {
    this.agent = req.headers['user-agent'];
  }

  Parser.prototype.getDevice = function() {
    var matcher;

    if (!this.agent) {
      return 'desktop';
    }
    matcher = new UserAgentMatcher(this.agent);
    if (matcher.matchDesktop()) {
      return 'desktop';
    }
    if (matcher.matchTV()) {
      return 'tv';
    }
    if (matcher.matchTablet()) {
      return 'tablet';
    }
    if (matcher.matchBot()) {
      return 'bot';
    }
    return 'phone';
  };

  return Parser;

})();

module.exports = Parser;
